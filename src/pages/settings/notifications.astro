---
import Layout from '../../layouts/Layout.astro';
import NotificationSettings from '../../components/react/NotificationSettings';
---

<Layout title="Configuración de Notificaciones - TiChat">
  <main class="min-h-screen bg-gray-50">
    <!-- Header -->
    <div class="bg-white shadow-sm border-b border-gray-200">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex items-center justify-between h-16">
          <div class="flex items-center space-x-4">
            <a 
              href="/dashboard" 
              class="text-gray-600 hover:text-gray-900 transition-colors"
              aria-label="Volver al dashboard"
            >
              <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
              </svg>
            </a>
            <h1 class="text-xl font-semibold text-gray-900">Configuración</h1>
          </div>
        </div>
      </div>
    </div>

    <!-- Content -->
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
      <div class="bg-white rounded-lg shadow-sm border border-gray-200">
        <NotificationSettings 
          className="p-6"
          client:load
        />
      </div>
    </div>
  </main>
</Layout>

<style>
  /* Estilos adicionales para mejorar la apariencia */
  main {
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  }
  
  /* Animaciones suaves */
  .transition-colors {
    transition-property: color;
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
    transition-duration: 150ms;
  }
  
  /* Mejoras de accesibilidad */
  @media (prefers-reduced-motion: reduce) {
    * {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
  }
  
  /* Responsive design */
  @media (max-width: 640px) {
    .max-w-4xl {
      max-width: 100%;
    }
    
    .px-4 {
      padding-left: 1rem;
      padding-right: 1rem;
    }
  }
</style>

<script>
  // Mejorar la navegación con el botón de retroceso
  document.addEventListener('DOMContentLoaded', () => {
    const backButton = document.querySelector('a[aria-label="Volver al dashboard"]');
    
    if (backButton) {
      backButton.addEventListener('click', (e) => {
        // Si hay historial, usar el botón de retroceso del navegador
        if (window.history.length > 1) {
          e.preventDefault();
          window.history.back();
        }
        // Si no hay historial, permitir la navegación normal al dashboard
      });
    }
  });
</script>
</Layout>